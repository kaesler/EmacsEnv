<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from ../notes-mode.texi on 1 February 2001 -->

<TITLE>Notes-mode</TITLE>
</HEAD>
<BODY>
<H1>Notes-mode</H1>
<H2>Organizing on-line note-taking</H2>
<H2>Edition $Revision: 1.28 $, for notes-mode version 1.16</H2>
<H2>$Date: 1999/12/11 23:32:04 $</H2>
<ADDRESS>by John Heidemann</ADDRESS>
<P>
<P><HR><P>
<H1>Table of Contents</H1>
<UL>
<LI><A NAME="TOC1" HREF="notes-mode.html#SEC1">Introduction</A>
<UL>
<LI><A NAME="TOC2" HREF="notes-mode.html#SEC2">What is it?</A>
<LI><A NAME="TOC3" HREF="notes-mode.html#SEC3">Why keep notes at all?</A>
<LI><A NAME="TOC4" HREF="notes-mode.html#SEC4">Why keep notes on-line?</A>
<LI><A NAME="TOC5" HREF="notes-mode.html#SEC5">Why use notes-mode?</A>
<LI><A NAME="TOC6" HREF="notes-mode.html#SEC6">Y2K Statement</A>
<LI><A NAME="TOC7" HREF="notes-mode.html#SEC7">Related work</A>
<LI><A NAME="TOC8" HREF="notes-mode.html#SEC8">Staying on top</A>
</UL>
<LI><A NAME="TOC9" HREF="notes-mode.html#SEC9">Basics</A>
<UL>
<LI><A NAME="TOC10" HREF="notes-mode.html#SEC10">Getting started</A>
<LI><A NAME="TOC11" HREF="notes-mode.html#SEC11">A notes file</A>
<LI><A NAME="TOC12" HREF="notes-mode.html#SEC12">The notes index</A>
<LI><A NAME="TOC13" HREF="notes-mode.html#SEC13">The notes directories</A>
</UL>
<LI><A NAME="TOC14" HREF="notes-mode.html#SEC14">Advanced Features</A>
<UL>
<LI><A NAME="TOC15" HREF="notes-mode.html#SEC15">Notes files</A>
<UL>
<LI><A NAME="TOC16" HREF="notes-mode.html#SEC16">Getting around</A>
<LI><A NAME="TOC17" HREF="notes-mode.html#SEC17">Subject summary</A>
<LI><A NAME="TOC18" HREF="notes-mode.html#SEC18">Encryption</A>
<LI><A NAME="TOC19" HREF="notes-mode.html#SEC19">Useful conventions</A>
</UL>
<LI><A NAME="TOC20" HREF="notes-mode.html#SEC20">Notes indices</A>
<LI><A NAME="TOC21" HREF="notes-mode.html#SEC21">Notes-mode configuration</A>
</UL>
<LI><A NAME="TOC22" HREF="notes-mode.html#SEC22">History</A>
<UL>
<LI><A NAME="TOC23" HREF="notes-mode.html#SEC23">Notes-mode history</A>
<LI><A NAME="TOC24" HREF="notes-mode.html#SEC24">Credits</A>
<LI><A NAME="TOC25" HREF="notes-mode.html#SEC25">Changes</A>
</UL>
<LI><A NAME="TOC26" HREF="notes-mode.html#SEC26">Installation</A>
<LI><A NAME="TOC27" HREF="notes-mode.html#SEC27">Keystroke index</A>
<LI><A NAME="TOC28" HREF="notes-mode.html#SEC28">Concept index</A>
</UL>
<P><HR><P>


<H1><A NAME="SEC1" HREF="notes-mode.html#TOC1">Introduction</A></H1>

<P>
What is notes-mode and why should you (perhaps) use it?




<H2><A NAME="SEC2" HREF="notes-mode.html#TOC2">What is it?</A></H2>

<P>
Notes-mode is an indexing system for on-line note-taking.
Notes-mode is composed of two parts, the visible part,
a major-mode for emacs to aid note-taking;
and the invisible part,
scripts which periodically index your notes for you.


<P>
Note that notes-mode provides tools to <EM>index</EM> your notes,
not to <EM>search</EM> them.
(Other existing tools such as <TT>`grep'</TT>, <TT>`agrep'</TT>, and <TT>`glimpse'</TT>
already allow file search.)


<P>
A digression about indexing vs. searching:
Indexing in this sense means
organize them according to categories you give,
while searching looks through all text for arbitrary strings.
Drawing on the World Wide Web for examples,
Yahoo (<TT>`http://www.yahoo.com/'</TT>) is an index,
while Alta Vista (<TT>`http://www.altavista.digital.com/'</TT>)
is a search-engine.
In (potentially) more familiar terms,
the yellow pages
<A NAME="DOCF1" HREF="notes-mode.html#FOOT1">(1)</A>
are an index,
while directory information (411 in the USA)
is sort of a search-engine.




<H2><A NAME="SEC3" HREF="notes-mode.html#TOC3">Why keep notes at all?</A></H2>

<P>
So why should you use notes-mode?
Well, first, consider why you should (perhaps)
keep your notes on line.
First,
I assume that you take notes as part of your work or school.
If you don't,
you can stop reading now and go back to watching TV.


<P>
If you keep notes, ask yourself why you keep them.
Reasons vary for different people, but some include:



<UL>

<LI>

To remember what is said or done.

<LI>

To focus on what is important about what is said.

<LI>

To provide proof of having done something
at a particular time or date.

<LI>

I know there were other reasons here,
but they slipped my mind.
</UL>



<H2><A NAME="SEC4" HREF="notes-mode.html#TOC4">Why keep notes on-line?</A></H2>

<P>
OK, I've talked you into keeping notes.
Why do it on-line?
Again, there are different reasons for different people.
If you don't want to consider keeping your notes on-line,
you're welcome to go back to your (clay tablets)
paper notes.


<P>
However, if you do much of your work on-line,
or if you have portable computer,
then you might want to consider keeping your notes on-line.



<UL>

<LI>

It's faster to type than write,
and possibly more legible at high speed.

<LI>

Often information is already on-line.
For example, in software development, bug reports,
measurement results, and everything else that's useful
is on-line.

<LI>

You can take down more detail than you otherwise would
(especially if the data is already on-line).
Taking more copious notes can be helpful when you go back
to figure out why that strange thing was happening.

<LI>

On-line notes are easy to search.
Grep, agrep, and glimpse are all much faster
and are often more accurate than paging through paper notes
looking for a particular key-word.

<LI>

On-line notes are easy to index.
(At least with notes-mode!)
In addition to raw-text search,
it's helpful to organize notes by category.
If you keep a table-of-contents of your paper notes,
you are either extremely fastidious
or a librarian (Nadia?).

<LI>

You can keep all of your notes with you at all times
(if you have a portable computer).
Even at a page a day,
paper notes quickly become bulky and awkward to carry around.
On-line notes fit on your computer's hard disk,
an extraordinarily compact medium
by comparison.

<LI>

Your notes can be automatically backed up.
Paper notes can become damaged with time,
and as a graduate student
one of my fears was fire in Boelter Hall
consuming all my research experiments
and and therefore hopes of a degree.
Electronic notes are extremely easy to duplicate
and can be automatically backed up with the rest of your computer.
(You <EM>do</EM> back up your computer, don't you?)

</UL>

<P>
While these advantages are undoubtedly clear to any
right-thinking computer user,
it should be said that there are a few disadvantages 
for on-line note-taking.



<UL>

<LI>

If you don't have a computer with you most of the time,
it's difficult take notes on-line (because you're off-line, of course).
<A NAME="DOCF2" HREF="notes-mode.html#FOOT2">(2)</A>

<LI>

Computers require power.
If your portable computer runs out of juice,
you're on your own.
Corollary:  watch your power, or bring paper.
Better corollary:  watch your power, <EM>and</EM> bring paper.

<LI>

Social limitations.
It's not always socially acceptable to take notes-on-line.
For example,
at a party,
few people would use a computer
to take down the phone number of a person
to whom they're attracted
(at least, if they wanted the attraction to be mutual).
<A NAME="DOCF3" HREF="notes-mode.html#FOOT3">(3)</A>
Sometimes other people find the sound of typing distracting.

<LI>

Health issues.
Repetitive stress injuries do occur
writing (slower) by hand is at least 
an alternate motion than typing.

<LI>

Legal limitations.
If you want to use your electronic notes
to justify a patent or invention,
you may be breaking legal ground.
Being on the legal cutting-edge is rarely an easy thing
for the person involved.<A NAME="DOCF4" HREF="notes-mode.html#FOOT4">(4)</A>

</UL>



<H2><A NAME="SEC5" HREF="notes-mode.html#TOC5">Why use notes-mode?</A></H2>

<P>
OK, I've sold you on note-taking and even on on-line note-taking.
What about notes-mode?
Naturally,
it slices, dices, and makes julienne fries.
But wait, there's more:



<UL>

<LI>

It automates indexing your notes,
linking notes with the same subject together.

<LI>

It supports embedded links,
allowing you to manually link together different topics 
and external files.

<LI>

It includes a number of convenience-features in emacs.
Subjects can be completed based on existing subjects.
The usual emacs customization mechanisms are available.

<LI>

Notes containing sensitive information can be encrypted.

<LI>

Notes-mode seems better than the other, currently available alternatives.
</UL>

<P>
What are the alternatives?  I'm glad you asked.
<A NAME="DOCF5" HREF="notes-mode.html#FOOT5">(5)</A>



<UL>

<LI>

<STRONG>HTML</STRONG>.
HTML has better formatting capabilities than notes-mode,
and it has excellent linking capabilities.
Unfortunately,
HTML's tags are fairly intrusive
 (each is at least four characters long and most come with a pair),
 tags can get confused with normal text,
 errors in HTML can be bad (obscuring data),
 and there's no automatic indexing feature
 (at least with plain HTML).
Besides,
 all data should be kept as close to the ASCII from whence it came,
 as God Intended (hi, Steve).

<LI>

<STRONG>Word Processors</STRONG>.
Word processors are strong in the formatting department,
 but most don't really have linking capabilities,
 and have poor or restricted indexing.

</UL>



<H2><A NAME="SEC6" HREF="notes-mode.html#TOC6">Y2K Statement</A></H2>

<P>
Notes mode uses dates extensively,
 both two-digit years and seconds-since-1970.
However, notes-mode has been coded to function correctly through
 the year 2038.


<P>
To avoid problems with the year 2000, notes-mode assumes
 that any two-digit years before "70" are 20xx, not 19xx.
Notes-mode should therefore work correctly in both the year 1999 and 2000.


<P>
(Notes-mode 1.17 released February 1999 fixes a lingering Y2K problem.)


<P>
Because notes-mode uses seconds-since-1970 for some date calculations
 it will fail beyond the year 2038 on computers with 32-bit integers.


<P>
If I'm still using notes-mode then on a 32-bit machine I'll see what I can do.




<H2><A NAME="SEC7" HREF="notes-mode.html#TOC7">Related work</A></H2>

<P>
What would a document be without related work?


<P>
Notes-mode is not related in any way to Lotus Notes.


<P>
I am told (by David Weisman)
 that it's something like the now defunct Lotus Agenda.


<P>
Ashvin Goel, one of the contributors to notes-mode,
 has gone off and done a from-scratch reimplementation
 called records-mode.
It's very similar to notes mode,
 and emphasizes on-the-fly updates to entry links
 but lacks a manual.
You may want to check it out at
 <TT>`http://www.cse.ogi.edu/~ashvin/software.html'</TT>.


<P>
Hyperbole (by Bob Weiner) offers better linking facilities
than notes-mode, but it has a bunch of stuff notes-mode doesn't need
and it's missing notes-specific indexing provided by notes-mode.
For people already using Hyperbole
 it would be interesting to replace notes-mode's linking
 with Hyperbole's.
Contributions in this area are welcome, provided they make Hyperbole
 optional.




<H2><A NAME="SEC8" HREF="notes-mode.html#TOC8">Staying on top</A></H2>

<P>
The most recent distribution of notes-mode 
 is always available via
 <TT>`http://www.isi.edu/~johnh/SOFTWARE/NOTES_MODE/'</TT>.


<P>
After you've installed notes mode you're encouraged to subscribe
to the mailing lists:
Send the message "subscribe" to
<TT>`notes-mode-announce-request@heidemann.la.ca.us'</TT> and 
<TT>`notes-mode-talk-request@heidemann.la.ca.us'</TT>.
(Or use <TT>`majordomo@heidemann.la.ca.us'</TT>.)


<P>
The announce list will contain only release announcements
and so is guaranteed to be very low bandwidth.




<H1><A NAME="SEC9" HREF="notes-mode.html#TOC9">Basics</A></H1>

<P>
All you need to use notes-mode
 in a chapter.
(Except for installation, See section <A HREF="notes-mode.html#SEC26">Installation</A>.)




<H2><A NAME="SEC10" HREF="notes-mode.html#TOC10">Getting started</A></H2>
<P>
<A NAME="IDX1"></A>
<A NAME="IDX2"></A>


<P>
To get started with notes-mode,
 read the introduction this chapter,
 then run the program <TT>`notesinit'</TT>
 to set up everything notes-mode needs.
This program will modify your environment (as described in this section),
 or it will give you the exact commands you should run yourself.


<P>
After you've run <TT>`notesinit'</TT>,
 start up emacs and note-away.
I usually begin a
 day of note-taking by running the command
 <KBD>M-x</KBD> <CODE>notes-index-todays-link</CODE>
 to jump directly to today's note.
You may even wish to bind this to something,
 perhaps with
 <CODE>(define-key global-map "\C-cn" 'notes-index-todays-link)</CODE>
 in your <TT>`.emacs'</TT>. 


<P>
If you want to browse your existing notes,
 you might instead want to edit the
 <TT>`~/NOTES/index'</TT>.
(What is a notes file and the index? Hurry up and finish
 reading this chapter.) 




<H2><A NAME="SEC11" HREF="notes-mode.html#TOC11">A notes file</A></H2>

<P>
<A NAME="IDX3"></A>


<P>
The notes file is the focus of most of the activity in notes-mode,
 it's where you take your notes.
Notes files are mostly free-form text
 broken up into <EM>entries</EM>.
Here's an example:


<P>
<A NAME="IDX4"></A>



<PRE>
8-Jun-95 Thursday
-----------------

* Today
-------
prev: &#60;none&#62;
next: &#60;file:///~/NOTES/199506/950609#* Today&#62;

next week - release notes-mode

* Environment/notes
-------------------

I explained notes mode to Ashvin and Geoff.
...
</PRE>

<P>
Each entry has a subject-block, (maybe) some links, and then (maybe) some text.


<P>
The subject-block must begin with an asterisk-space (<KBD>* </KBD>)
 at the beginning of a line, followed by the subject itself.
Subjects must be underlined with a row of dashes
 (if they're not exact, that's OK;
 notes-mode will fix them periodically).
For convenience,
 notes-mode will automatically add the underlines when you
 hit <KBD><KBD>RTN</KBD></KBD> (<CODE>notes-electric-return</CODE>),
 and <KBD><KBD>TAB</KBD></KBD> on a partially completed subject will
 invoke completion based on indexed subjects (<CODE>notes-complete-subject</CODE>).
<A NAME="IDX5"></A>
<A NAME="IDX6"></A>
<A NAME="IDX7"></A>


<P>
Following the subject may be links.
(In the example, the "Today" entry has links,
 the "Environment/notes" entry doesn't.)
These links will be automatically updated by notes-mode
 when your notes are re-indexed;
 just leave a blank line when writing the note.
<A NAME="IDX8"></A>


<P>
Links are made with pseudo-URLs,
 sort of like those in the World Wide Web. 
Any of these URLs can be followed in notes-mode files
 by clicking <KBD>S-mouse-2</KBD> on the pseudo-URL
 (<CODE>notes-w3-follow-link-mouse</CODE>).
<A NAME="IDX9"></A>
<A NAME="IDX10"></A>
<A NAME="IDX11"></A>


<P>
Finally comes the text.
Go wild, but just don't include text that looks like a subject.
You can embed pseudo-URLs to link notes together manually.


<P>
The more anal of you may have noticed
 that the lines before the first subject
 are not part of any entry.
These lines are
 <EM>front matter</EM>.
They're not usually used for much,
 but they can be a good place to label the file.
<A NAME="IDX12"></A>
<A NAME="IDX13"></A>


<P>
There are a number of useful conventions
 that can be adopted to organize your notes.
The most common is the "Today" entry.
If you keep an entry with the same subject
 at the beginning of each file,
 you link all of your notes together.
Notes-mode will help you out with some of these convetions
 by automatically creating or copying some fields for you;
 see see section <A HREF="notes-mode.html#SEC19">Useful conventions</A> for details.


<P>
Finally, notes-mode can also work with outline-minor-mode
 (thanks to Tim Carroll for pointing this out).
Outline-mode supports hiding and revealing text and other helpful
 features beyond the scope of this document.
See section `Outline Mode' in <CITE>The Emacs Editor</CITE>, for details.




<H2><A NAME="SEC12" HREF="notes-mode.html#TOC12">The notes index</A></H2>

<P>
<A NAME="IDX14"></A>


<P>
The notes index lists all subjects you've kept notes about,
 and each date of each note.
Impress your friends,
 show your advisor why you're worth the <EM>big</EM> peanuts,
 you'll soon have the biggest index of all.


<P>
The index has one line per subject, listing the subject
 and each day a note was made about that subject.
For example:



<PRE>
Bicycle: 950314, 950316
Bicycle/maintenance/books: 951028
Bridge/hands: 951113, 951114, 951116, 951117
Bridge/UCLA: 960222, 960409
</PRE>

<P>
Clicking on any of the dates with <KBD>mouse-2</KBD>
 will take you to that note
 (<CODE>notes-index-mouse-follow-link</CODE>).
(You can also move the point over the date and hit <KBD><KBD>RTN</KBD></KBD>
 if you're musaphobic [<CODE>notes-index-follow-link</CODE>].)
<A NAME="IDX15"></A>
<A NAME="IDX16"></A>


<P>
The notes index is automatically updated by the program <TT>`mkall'</TT>.
Typically <TT>`mkall'</TT> is run nightly by <TT>`cron'</TT>.
On most modern versions of Unix, you can add this command to cron by
 running <TT>`crontab -e'</TT> and adding the line:



<PRE>
0 4 * * * /usr/local/lib/notes-mode/mkall
</PRE>

<P>
<A NAME="IDX17"></A>
<A NAME="IDX18"></A>
<A NAME="IDX19"></A>


<P>
(Assuming that your notes programs are installed
 in /usr/local/lib/notes-mode, the default location.)




<H2><A NAME="SEC13" HREF="notes-mode.html#TOC13">The notes directories</A></H2>

<P>
<A NAME="IDX20"></A>
<A NAME="IDX21"></A>


<P>
The final thing needed to tie basic notes-mode together his how
the pieces fit together.
Since my graduate work is in file systems,
you can bet that directories are involved.


<P>
Notes-mode keeps its files in a two-level hierarchy:



<PRE>
~/NOTES
~/NOTES/index
~/NOTES/rawindex
~/NOTES/199603
~/NOTES/199603/960329
~/NOTES/199603/960330
~/NOTES/199604
~/NOTES/199604/960401
</PRE>

<P>
The top level, <TT>`~/NOTES'</TT>, is the notes directory.
It keeps all notes in one place.
(The name of this directory is configurable, See section <A HREF="notes-mode.html#SEC21">Notes-mode configuration</A>.)


<P>
Inside the notes directory are two files and a number of directories.
The files are <TT>`index'</TT>,
 the index of all entries (see section <A HREF="notes-mode.html#SEC12">The notes index</A>),
 and <TT>`rawindex'</TT>,
 used internally.
<A NAME="IDX22"></A>


<P>
The notes directory also contains a number of subdirectories,
 sometimes called <EM>intermediate directories</EM>.
These directories group the actual notes files into manageable chunks,
 keeping any directory from getting too large.
Intermediate directories are named
 by the four-digit year and the two-digit month
 of the entries they contain.
(The format of intermediate directories
 is configurable, See section <A HREF="notes-mode.html#SEC21">Notes-mode configuration</A>.)
<A NAME="IDX23"></A>


<P>
Finally,
 each intermediate directory are the notes files themselves,
 named according to the two-digit year, month, and day-of-month.
<A NAME="IDX24"></A>


<P>
For the most part,
 notes-mode will automatically maintain this organization of files,
 once you create the top-level directory.
Notes-mode will also automatically insure
 that all files in the notes directory are unreadable by
 anyone other than their owner.
Notes are personal things.
(This behavior is not currently configurable,
 but it probably should be.)
<A NAME="IDX25"></A>




<H1><A NAME="SEC14" HREF="notes-mode.html#TOC14">Advanced Features</A></H1>

<P>
Notes-mode, the minutiae, and some other good stuff.




<H2><A NAME="SEC15" HREF="notes-mode.html#TOC15">Notes files</A></H2>



<H3><A NAME="SEC16" HREF="notes-mode.html#TOC16">Getting around</A></H3>

<P>
Moving between notes entries and around the hierarchy is fairly common,
 so there are some accelerators.


<DL COMPACT>

<DT><KBD>C-c C-i</KBD>
<DD>
Jump to the index entry for the current entry's subject
(<CODE>notes-goto-index-entry</CODE>).
<A NAME="IDX26"></A>

<DT><KBD>C-c C-n</KBD>
<DD>
<DT><KBD>C-c C-p</KBD>
<DD>
Move to the next or prior note with the same subject
(<CODE>notes-follow-next-link</CODE> and <CODE>notes-follow-prev-link</CODE>).
These functions follow the links in the note,
 if they're defined.
If not,
 they look through the index file.
This approach usually works,
 but will fail if there are multiple new entries created
 with the given subject
 between when the index is recomputed.
<A NAME="IDX27"></A>
<A NAME="IDX28"></A>

<DT><KBD>C-c<KBD>RTN</KBD></KBD>
<DD>
Follow the link under the point
(<CODE>notes-w3-follow-link</CODE>),
 a keyboard equivalent of <KBD>S-mouse-2</KBD>.
<A NAME="IDX29"></A>

<DT><KBD>M-C-a</KBD>
<DD>
<DT><KBD>M-C-e</KBD>
<DD>
Jump to the beginning or end of the current note entry
(<CODE>notes-beginning-of-defun</CODE> and <CODE>notes-end-of-defun</CODE>).
<A NAME="IDX30"></A>
<A NAME="IDX31"></A>

<DT><KBD>C-c C-k</KBD>
<DD>
Copies the pseudo-URL for the current note into the kill-ring
(<CODE>current-url-as-kill</CODE>).
To link two entries, go to the target,
 grab its URL with <KBD>C-c C-k</KBD>,
 go to where you want to make the link,
 and yank the URL with <KBD>C-y</KBD>.
<A NAME="IDX32"></A>

</DL>

<P>
Notes mode supports imenu,
 if you have it bound to something
 (I use <CODE>(global-set-key [down-mouse-3] 'imenu)</CODE>).
<A NAME="IDX33"></A>




<H3><A NAME="SEC17" HREF="notes-mode.html#TOC17">Subject summary</A></H3>

<P>
It's often helpful to look at all
 entries for a given subject
<KBD>C-c C-s</KBD>
 collects all entries with the subject of the current
 entry in a new buffer
 (<CODE>notes-summarize-subject</CODE>).
<A NAME="IDX34"></A>
<A NAME="IDX35"></A>




<H3><A NAME="SEC18" HREF="notes-mode.html#TOC18">Encryption</A></H3>

<P>
<A NAME="IDX36"></A>
<A NAME="IDX37"></A>


<P>
Notes occasionally contain private material.
While Unix has strong services for file protection
 (compared to other, say, more wide-selling operating systems),
 in many systems root passwords are shared,
 while other systems are vulnerable to physical compromise.
In such systems,
 properly used encryption is the best approach to security.


<P>
Notes-mode encryption is based
 Phill Zimmerman's PGP (Pretty Good Privacy)
(see <TT>`http://www.mantis.co.uk/pgp/pgp.html'</TT>)
 and either
 with Rick Campbell's
 emacs interface, PAM (PGP Augmented Messaging)
(from <TT>`ftp://h.gp.cs.cmu.edu/usr/rfb/pam/'</TT>)
 (note that as of January 1997, PAM is no longer at this ftp site
 and appears to not be publicly available),
 or LoPresti and Choi's mailcrypt
(from <TT>`http://cag-www.lcs.mit.edu/mailcrypt/'</TT>).
<A NAME="IDX38"></A>
<A NAME="IDX39"></A>
<A NAME="IDX40"></A>
<A NAME="IDX41"></A>
<A NAME="IDX42"></A>


<DL COMPACT>

<DT><KBD>C-c C-e</KBD>
<DD>
Encrypt the current note
(<CODE>notes-encrypt-note</CODE>).
By default this function encrypts the whole entry.
With a prefix argument,
 only the part from the point to the end of the entry is encrypted.
<A NAME="IDX43"></A>

<DT><KBD>C-c C-d</KBD>
<DD>
Decrypt the current note
(<CODE>notes-decrypt-note</CODE>).
</DL>
<P>
<A NAME="IDX44"></A>


<P>
By default notes-mode determines your public key by looking 
 up your <CODE>user-full-name</CODE> in your PGP keyring.
You can override this default by setting
 <CODE>notes-encryption-key-id</CODE>
 to the desired key-id.
<A NAME="IDX45"></A>




<H3><A NAME="SEC19" HREF="notes-mode.html#TOC19">Useful conventions</A></H3>

<P>
<A NAME="IDX46"></A>
<A NAME="IDX47"></A>


<P>
There are a number of conventions which can make notes-mode
 easier to use.
These conventions are a matter of personal taste,
 of course.
Do what works for you.


<P>
First,
 I find it helpful to keep the date of each notes-file at the top
 of the file.
This makes the file self-identifying
 if the filename is lost.


<P>
Second,
 I find it useful to have the first entry of each file
 have the same subject (perhaps "Today").
This entry then links all notes together,
 making it easy to go to yesterday and tomorrow.
I keep a to-do list on this entry,
 bringing the list forward each day.
<A NAME="IDX48"></A>


<P>
A third useful convention is to keep an
 entry with the name based on the day of the week
 in each file.
Analogous to "Today", this entry links together
 weeks.


<P>
Notes-mode supports these conventions.
When you make a new notes-file in emacs,
 notes-mode searches for the preceding file.
If it follows any of these conventions,
 the new file is initialized appropriately.
Currently
 the approach to do this process
 (in the program <TT>`mknew'</TT>)
 is fairly sensitive,
 so it may not work in all cases.
In particular,
 the date convention works only on
 for English-language dates.
(If you use notes-mode with a non-English language,
 let me know and I'll work with you to fix this limitation.)


<P>
If you find other helpful conventions,
 please let me know.
Modifications to <TT>`mknew'</TT> to implement
 new conventions are also invited.


<P>
If you don't want to use these conventions,
 or if you want to use different ones,
 set the emacs variable notes-mode-initialization-program
 to nil or the name of your initialization program.
<A NAME="IDX49"></A>




<H2><A NAME="SEC20" HREF="notes-mode.html#TOC20">Notes indices</A></H2>

<P>
Only two features of notes index mode haven't yet been described.
First,
 you can open any notes-file based on date
 with <CODE>notes-index-link</CODE>,
 normally bound to <KBD>o</KBD>.
<A NAME="IDX50"></A>


<P>
Second,
 you can get a subject-summary
 with <KBD>C-c C-s</KBD>
 (see section <A HREF="notes-mode.html#SEC17">Subject summary</A>).
The subject defaults to that of the current index line.
<A NAME="IDX51"></A>




<H2><A NAME="SEC21" HREF="notes-mode.html#TOC21">Notes-mode configuration</A></H2>

<P>
<A NAME="IDX52"></A>
<A NAME="IDX53"></A>


<P>
Several aspects of notes mode are particularly visible
 to the user.
Because I'm not a fascist,
 a user can change most of these.


<P>
Preferences are specified in <TT>`~/.notesrc'</TT>.
This file lists things to change:



<PRE>
# lines beginning with a hash are comments
dir: ~/NOTES
int_form: %Y%m
</PRE>

<P>
Currently, two things can be changed:


<DL COMPACT>

<DT><CODE>dir</CODE>
<DD>
Specifies the root of the notes directory hierarchy
 (see section <A HREF="notes-mode.html#SEC13">The notes directories</A>).

<DT><CODE>int_form</CODE>
<DD>
Specifies the form of the intermediate directory.
A limited subset of <CODE>strftime(3)</CODE>
 formatting is allowed.
</DL>

<P>
The subset of <CODE>strftime(3)</CODE> supported in <CODE>int_form</CODE> is:
<DL COMPACT>

<DT><CODE>%Y</CODE>
<DD>
The four-digit year.

<DT><CODE>%y</CODE>
<DD>
The two-digit year.

<DT><CODE>%m</CODE>
<DD>
A two-digit numeric month.

<DT><CODE>%d</CODE>
<DD>
A two-digit day.
</DL>

<P>
In addition to <TT>`.notesrc'</TT>,
 there are a number of emacs-specific variables.
These variables are documented in the file
 <TT>`notes-variables.el'</TT>.




<H1><A NAME="SEC22" HREF="notes-mode.html#TOC22">History</A></H1>

<P>
More about notes-mode than you wanted to know,
and some thanks.




<H2><A NAME="SEC23" HREF="notes-mode.html#TOC23">Notes-mode history</A></H2>

<P>
Briefly,
 I started keeping notes on-line shortly after I got a portable computer
 in January, 1994.
After a month-and-a-half of notes, I realized that
 one does not live by grep alone,
 so I started adding indexing facilities.


<P>
In June of 1995
 some other Ficus-project members started
 keeping and indexing on-line notes
 using other home-grown systems.
After some discussion,
 we generalized my notes-mode work and
 they started using it.


<P>
Over the next 18 months notes-mode grew.
Finally, in April, 1996 I wrote documentation,
 guaranteeing that innovation on notes-mode will now cease
 or the documentation will become out of date.




<H2><A NAME="SEC24" HREF="notes-mode.html#TOC24">Credits</A></H2>

<P>
I (John Heidemann, &#60;johnh@isi.edu&#62;)
 started, documented, and currently maintain notes-mode.
I take ultimate responsibility for the code,
 especially for the ugly parts that I won't let others change.


<P>
Ashvin Goel
 &#60;ashvin@ficus.cs.ucla.edu&#62;
 has been a very enthusiastic notes-mode user and contributor.
He is responsible for at least
 the ideas behind <CODE>notes-summarize-subject</CODE>
and the ideas and initial implementations of
 some of the original generalization and modularity improvements,
 <CODE>notes-follow-next-link</CODE> and <CODE>notes-follow-prev-link</CODE>,
 <CODE>notes-goto-index-entry</CODE>,
 programmed subject completion,
 and
 context-sensitive mouse-2 handling.
In addition,
 he is an invaluable second opinion about
 what and how things should be done
 (even if I don't always agree with him).


<P>
Geoff Kuenning
 &#60;geoff@ficus.cs.ucla.edu&#62;
 has been another enthusiastic notes-mode user and victim.
He is responsible for
 finding several bugs,
 motivation for mouse-less operation,
 comments about the documentation,
 the day-of-week convention,
 and an initial implementation and the idea of
 multiple entries with the same subjects in a single notes-file.


<P>
Ramesh Govindan &#60;govindan@isi.edu&#62; did the xemacs port.


<P>
Since it's release on Usenet in April 1996 several
 other folks have contributed.
Thanks to
 David Weisman &#60;weisman@app1.osf.org&#62;,
 Martin L. Smith &#60;martin@ner.com&#62;,
 Jason Bastek &#60;jason@aai.com&#62;.
See the next section (See section <A HREF="notes-mode.html#SEC25">Changes</A>.) for details of their exploits.


<P>
Thanks to Larry Ayers &#60;layers@marktwain.net&#62;
 for popularizing notes-mode with reviews in
 the Linux Gazette
 (at &#60;http://www.linuxgazette.com/issue22/notes-mode.html&#62; and
 &#60;http://www.linuxgazette.com/issue35/ayers.html&#62;).




<H2><A NAME="SEC25" HREF="notes-mode.html#TOC25">Changes</A></H2>

<P>
For the bored:


<P>
First semi-public release. 12-Jul-95: version 0.1
 Shared a version with Ashvin and Geoff.


<P>
Changed  6-Dec-95: version 0.3
 Ashvin's changes for note traversal added (C-c C-p and C-c C-n now
move to the prev/next note in note-mode).
 URL parsing changed so that "localhost" is optional.


<P>
Changed 19-Dec-95:  version 0.4
 More robust prev/next code added, both to handle going back and
forward in the middle of chains through the index file, and to handle
back/forward in a single file.
 URL parsing changed so that notes-goto-index-entry correctly handles
lookups on notes names such as "252A".


<P>
Changed 20-Dec-95: version 0.5.
 Fixed a missing variable in notes-url.el.
 Added a work-around to a bug in emacs-19.30's define-derived-mode.


<P>
Changed 24-Dec-95: version 0.6.
 Prev/next code re-re-written to be more robust.


<P>
Changed 26-Dec-96:  version 0.7.
 Bug fix release.


<P>
Changed 23-Jan-96: version 0.8.
 Initialization code added to set up a new note.
New variable:  notes-bin-dir.


<P>
 I'm skipping version 0.9 because I erroneously release version 0.1
as version 0.9 (only on the web, not on Usenet).


<P>
 I'm bumping from version "0" to version "1" since the code is has been
in production use for more than a year by several people.  Minor
numbers are the same.


<P>
Changed 26-Mar-96: version 1.10.
 Setup code completely re-written.
 Several incompatible changes have been made:
 - the lisp and Perl code must be installed via make install,
not by copying.
 - some data is specified in a .notesrc file; copy and modify sample.notesrc.
 - several internal elisp changes.
 - catsubject added (bound to C-cC-s):  collect all notes about the
current subject.
 - new notes-files are initialized with fields based on the prior
day's notes; see mknew for details.
 - daily_work is gone; mkall is rewritten to use .notesrc.


<P>
Changed 29-Apr-96: version 1.11.
 Real documentation.
 Mknew caching added.


<P>
Changed  9-Aug-96: version 1.12.
 Added notesinit to do all setup for new users.


<P>
Changed 24-Aug-96: version 1.13.
 Minor documentation fixes.


<P>
Changed 20-Dec-97: version 1.14.
Autoconf support.


<P>
Fontification of the index buffer is now pre-computed in perl
other than done when the file is needed (in elisp with slow regular
expressions).  2000-line index files are now 1-2 seconds rather than
15-30 on a 100MHz Pentium.  If necessary (the
pre-computed version isn't up-to-date) we fall back on the slower
code.


<P>
Related work improved (suggestion by David Weisman &#60;weisman@app1.osf.org&#62;).


<P>
Documentation improvement (problem found by Martin L. Smith
&#60;martin@ner.com&#62;).


<P>
Installation improved (code by Jason Bastek &#60;jason@aai.com&#62;).


<P>
Bug in notes-index mode with subjects containing colons fixed (johnh).


<P>
Encryption now supports mailcrypt.el.


<P>
Support for emacs 20 (a small font-lock change).


<P>
Changed  5-Jan-98: version 1.15.
Bug in decryption for non-PAM users fixed
 (suggestion by Kevin Davidson &#60;tkld@quadstone.com&#62;).


<P>
Y2K statement added
 (suggestion by Kevin Davidson &#60;tkld@quadstone.com&#62;).


<P>
Pointer to mailcrypt added (as a supported encryption package).
Problem pointed out by K. Ueda &#60;kueda@jupiter.qse.tohoku.ac.jp&#62;.


<P>
Changed  4-Nov-98: version 1.16.
Bug in kill-ring handling of notes-old-underline-line
 fixed by Tim Potter &#60;timp@jna.com.au&#62;.
Bug in whitespace handling after PGP encryption fixed by Tim Potter.
Bugs in handling of entries with hash signs in their name fixed
 (found by Tim Potter).
Fontification of index buffer further improved
 (mapcar is your friend).
Xemacs support added based on code contributed by Ramesh Govindan.


<P>
Changed 28-Feb-99: version 1.17:
Improvement:  notes-electric-return now fixes up the prev/next links
 of new entries (only).  Code contributed by
 Takashi Nishimoto.


<P>
Bug fix:  reversed options -batch and -q in configure.in to placate
 XEmacs 20.0; changed notesinit to not downcase the pathname
 (bugs found by Thierry Bezecourt).


<P>
Clarification: Autofilling of new notes more clear in the manual (hopefully,
 suggested by Solofo Ramangalahy).


<P>
Bug fix:  a y2k bug in was found and fixed in mkindex.  Sigh.


<P>
New:  Two mailing lists for notes-mode have been created:
<TT>`notes-mode-announce@heidemann.la.ca.us'</TT> and 
<TT>`notes-mode-talk@heidemann.la.ca.us'</TT>.
Send the line "subscribe notes-mode-announce"
(or "subscribe notes-mode-talk")
to <TT>`majordomo@heidemann.la.ca.us'</TT>
to join them.


<P>
Changed  6-Oct-99: version 1.18:
Bug fix:  handling of electric-prevnext is better when there are
 existing prev/next links.
 
Clarification: I added some pointers in the code to the installation
 instructions.  (Apparently people can't RTF README.)


<P>
Extension: mailcrypt-3.5.x suported including pgp, pgp5 and gpg.


<P>
Changed (date 23-Dec-00): version 1.19:
Bug fix (cosmetic): suppress comments in encrypted nodes.


<P>
Install fixes from Kannan Varadhan: elisp directories changed on install.


<P>
Added C-j as a synonym for RET in notes-mode to parallel C++ or perl mode.
(Suggested by Fred Jaggi <TT>`jaggi@rsn.hp.com'</TT>.)


<P>
Outline-minor-mode support added and documented.
(Suggested by Tim Carroll <TT>`tim@boomboom.com'</TT>.)


<P>
Bug/typo fixes in gpg support
(Contributed by William A. Perkins <TT>`wa_perkins@pnl.gov'</TT>,
with separate patches from Knut Anders Hatlen <TT>`kahatlen@online.no'</TT>.)


<P>
Installation improvements suggested by Christophe Troestler
<TT>`Ch.Troestler@linkline.be'</TT>:
use install-info to update the info dir,
warn users of --prefix that lisp files go elsewhere.


<P>
Changed (date  1-Feb-01): version 1.20:
Bug fix: missing file notes-first.el added to the distribution.




<H1><A NAME="SEC26" HREF="notes-mode.html#TOC26">Installation</A></H1>

<P>
To install notes-mode,



<OL>
<LI>

Unpack and extract the distribution
(gunzip notes-mode-xxx.tar.gz; tar xvf notes-mode-xxx.tar; cd notes-mode-xxx).

<LI>

Run configure (./configure).

<LI>

Type "make install".
</OL>

<P>
(To control what's installed where, use --prefix=/where, or
--with-lisp-dir=/where, --datadir=/where (for scripts),
and --infodir=/where.)


<P>
For each user:

<OL>
<LI>

Run notesinit
</OL>

<P>
If you have problems with paths being incorrect, please be aware that
you <EM>cannot</EM> run notes directly out of where you untar it.  The
installation process customizes the programs for where things are on
your system.
Make sure you move out of the directory where you untarred it
before running it.


<P>
The most recent distribution of notes-mode 
 is always available via
 <TT>`http://www.isi.edu/~johnh/SOFTWARE/NOTES_MODE/'</TT>.




<H1><A NAME="SEC27" HREF="notes-mode.html#TOC27">Keystroke index</A></H1>

<P>
This index lists notes-mode keystrokes.


<P>
Jump to:
<A HREF="#kindex_c">c</A>
-
<A HREF="#kindex_m">m</A>
-
<A HREF="#kindex_o">o</A>
-
<A HREF="#kindex_r">r</A>
-
<A HREF="#kindex_s">s</A>
-
<A HREF="#kindex_t">t</A>
<P>
<H2><A NAME="kindex_c">c</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX44">C-c C-d</A>
<LI><A HREF="notes-mode.html#IDX43">C-c C-e</A>
<LI><A HREF="notes-mode.html#IDX26">C-c C-i</A>
<LI><A HREF="notes-mode.html#IDX32">C-c C-k</A>
<LI><A HREF="notes-mode.html#IDX27">C-c C-n</A>
<LI><A HREF="notes-mode.html#IDX28">C-c C-p</A>
<LI><A HREF="notes-mode.html#IDX34">C-c C-s</A>, <A HREF="notes-mode.html#IDX51">C-c C-s</A>
<LI><A HREF="notes-mode.html#IDX29">C-c<KBD>RTN</KBD></A>
</DIR>
<H2><A NAME="kindex_m">m</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX30">M-C-a</A>
<LI><A HREF="notes-mode.html#IDX31">M-C-e</A>
<LI><A HREF="notes-mode.html#IDX15">mouse-2</A>
</DIR>
<H2><A NAME="kindex_o">o</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX50">o</A>
</DIR>
<H2><A NAME="kindex_r">r</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX6">RTN</A>, <A HREF="notes-mode.html#IDX16">RTN</A>
</DIR>
<H2><A NAME="kindex_s">s</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX11">S-mouse-2</A>
</DIR>
<H2><A NAME="kindex_t">t</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX7">TAB</A>
</DIR>




<H1><A NAME="SEC28" HREF="notes-mode.html#TOC28">Concept index</A></H1>

<P>
This index lists notes-mode concepts.


<P>
Jump to:
<A HREF="#cindex_.">.</A>
-
<A HREF="#cindex_c">c</A>
-
<A HREF="#cindex_d">d</A>
-
<A HREF="#cindex_e">e</A>
-
<A HREF="#cindex_f">f</A>
-
<A HREF="#cindex_i">i</A>
-
<A HREF="#cindex_k">k</A>
-
<A HREF="#cindex_m">m</A>
-
<A HREF="#cindex_n">n</A>
-
<A HREF="#cindex_p">p</A>
-
<A HREF="#cindex_r">r</A>
-
<A HREF="#cindex_s">s</A>
-
<A HREF="#cindex_t">t</A>
-
<A HREF="#cindex_u">u</A>
<P>
<H2><A NAME="cindex_.">.</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX53">.notesrc</A>
</DIR>
<H2><A NAME="cindex_c">c</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX52">configuration</A>
<LI><A HREF="notes-mode.html#IDX46">conventions</A>
<LI><A HREF="notes-mode.html#IDX17">Crontab</A>
</DIR>
<H2><A NAME="cindex_d">d</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX37">Decryption</A>
<LI><A HREF="notes-mode.html#IDX21">Directory hierarchy</A>
</DIR>
<H2><A NAME="cindex_e">e</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX36">Encryption</A>
</DIR>
<H2><A NAME="cindex_f">f</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX13">Font matter</A>
</DIR>
<H2><A NAME="cindex_i">i</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX33">imenu</A>
<LI><A HREF="notes-mode.html#IDX23">Intermediate directories</A>
</DIR>
<H2><A NAME="cindex_k">k</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX45">key-id</A>
</DIR>
<H2><A NAME="cindex_m">m</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX42">mailcrypt</A>
<LI><A HREF="notes-mode.html#IDX18">mkall</A>
<LI><A HREF="notes-mode.html#IDX47">mknew</A>
</DIR>
<H2><A NAME="cindex_n">n</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX20">Notes directories</A>
<LI><A HREF="notes-mode.html#IDX4">Notes entries</A>
<LI><A HREF="notes-mode.html#IDX25">Notes file permissions</A>
<LI><A HREF="notes-mode.html#IDX3">Notes files</A>, <A HREF="notes-mode.html#IDX24">Notes files</A>
<LI><A HREF="notes-mode.html#IDX12">Notes files, font matter</A>
<LI><A HREF="notes-mode.html#IDX14">Notes index</A>
<LI><A HREF="notes-mode.html#IDX8">Notes links</A>
<LI><A HREF="notes-mode.html#IDX5">Notes subjects</A>
<LI><A HREF="notes-mode.html#IDX49">notes-mode-initialization-program</A>
<LI><A HREF="notes-mode.html#IDX1">notesinit</A>
</DIR>
<H2><A NAME="cindex_p">p</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX40">PAM</A>
<LI><A HREF="notes-mode.html#IDX38">PGP</A>
<LI><A HREF="notes-mode.html#IDX41">PGP Augmented Messaging</A>
<LI><A HREF="notes-mode.html#IDX39">Pretty good privacy</A>
<LI><A HREF="notes-mode.html#IDX9">Pseudo-URLs</A>
</DIR>
<H2><A NAME="cindex_r">r</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX19">re-indexing</A>
<LI><A HREF="notes-mode.html#IDX22">Root directory</A>
</DIR>
<H2><A NAME="cindex_s">s</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX2">setup</A>
<LI><A HREF="notes-mode.html#IDX35">Subject summary</A>
</DIR>
<H2><A NAME="cindex_t">t</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX48">Today</A>
</DIR>
<H2><A NAME="cindex_u">u</A></H2>
<DIR>
<LI><A HREF="notes-mode.html#IDX10">URLs</A>
</DIR>


<P><HR><P>
<H1>Footnotes</H1>
<H3><A NAME="FOOT1" HREF="notes-mode.html#DOCF1">(1)</A></H3>
<P>Trademarked, in Great Britain, Sunone tells me.
<H3><A NAME="FOOT2" HREF="notes-mode.html#DOCF2">(2)</A></H3>
<P>I consider myself pretty anal about this subject,
often typing notes in from paper after-the-fact,
and <EM>I</EM> certainly don't manage to back-enter
my notes all time time.
<H3><A NAME="FOOT3" HREF="notes-mode.html#DOCF3">(3)</A></H3>
<P>
On the other hand, some folks at MIT are working
on this problem from both the hardware and the social side of
things (<TT>`http://wearables.www.media.mit.edu/projects/wearables/'</TT>)
(Perhaps they have wild parties with computers, too.)

<H3><A NAME="FOOT4" HREF="notes-mode.html#DOCF4">(4)</A></H3>
<P>My hat is off to Rosa Parks
and the many other normal people who triggered landmark cases.
<H3><A NAME="FOOT5" HREF="notes-mode.html#DOCF5">(5)</A></H3>
<P>If you think I'm missing an alternative, please let me know.
<P><HR><P>
This document was generated on 1 February 2001 using
<A HREF="http://wwwinfo.cern.ch/dis/texi2html/">texi2html</A>&nbsp;1.56k.
</BODY>
</HTML>
